{"version":3,"sources":["assets/javascript/keyboard.js"],"names":["Keyboard","elements","main","keysContainer","keys","eventHandlers","oninput","onclose","properties","value","capsLock","lastKeyPressed","init","document","createElement","classList","add","appendChild","_createKeys","querySelectorAll","body","forEach","element","addEventListener","open","currentValue","fragment","createDocumentFragment","keyLayout","createIconHTML","icon_name","key","keyElement","insertLineBreak","indexOf","setAttribute","innerHTML","substring","length","_triggerEvent","_toggleCapsLock","toggle","close","textContent","toLowerCase","toUpperCase","handlerName","childElementCount","initialValue","remove","window"],"mappings":";;;;;;AAAA;AACA;AACA,IAAMA,QAAQ,GAAG;AACfC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAE,IADE;AAERC,IAAAA,aAAa,EAAE,IAFP;AAGRC,IAAAA,IAAI,EAAE;AAHE,GADK;AAOfC,EAAAA,aAAa,EAAE;AACbC,IAAAA,OAAO,EAAE,IADI;AAEbC,IAAAA,OAAO,EAAE;AAFI,GAPA;AAYfC,EAAAA,UAAU,EAAE;AACVC,IAAAA,KAAK,EAAE,EADG;AAEVC,IAAAA,QAAQ,EAAE;AAFA,GAZG;AAiBfC,EAAAA,cAAc,EAAE,EAjBD;AAmBfC,EAAAA,IAnBe,kBAmBR;AAAA;;AACL;AACA,SAAKX,QAAL,CAAcC,IAAd,GAAqBW,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArB;AACA,SAAKb,QAAL,CAAcE,aAAd,GAA8BU,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAA9B,CAHK,CAKL;;AACA,SAAKb,QAAL,CAAcC,IAAd,CAAmBa,SAAnB,CAA6BC,GAA7B,CAAiC,UAAjC,EAA6C,kBAA7C;AACA,SAAKf,QAAL,CAAcE,aAAd,CAA4BY,SAA5B,CAAsCC,GAAtC,CAA0C,gBAA1C;AACA,SAAKf,QAAL,CAAcE,aAAd,CAA4Bc,WAA5B,CAAwC,KAAKC,WAAL,EAAxC;AAEA,SAAKjB,QAAL,CAAcG,IAAd,GAAqB,KAAKH,QAAL,CAAcE,aAAd,CAA4BgB,gBAA5B,CACnB,gBADmB,CAArB,CAVK,CAcL;;AACA,SAAKlB,QAAL,CAAcC,IAAd,CAAmBe,WAAnB,CAA+B,KAAKhB,QAAL,CAAcE,aAA7C;AACAU,IAAAA,QAAQ,CAACO,IAAT,CAAcH,WAAd,CAA0B,KAAKhB,QAAL,CAAcC,IAAxC,EAhBK,CAkBL;;AACAW,IAAAA,QAAQ,CAACM,gBAAT,CAA0B,qBAA1B,EAAiDE,OAAjD,CAAyD,UAACC,OAAD,EAAa;AACpEA,MAAAA,OAAO,CAACC,gBAAR,CAAyB,OAAzB,EAAkC,YAAM;AACtC,QAAA,KAAI,CAACC,IAAL,CAAUF,OAAO,CAACb,KAAlB,EAAyB,UAACgB,YAAD,EAAkB;AACzCH,UAAAA,OAAO,CAACb,KAAR,GAAgBgB,YAAhB;AACD,SAFD;AAGD,OAJD;AAKD,KAND;AAOD,GA7Cc;AA+CfP,EAAAA,WA/Ce,yBA+CD;AAAA;;AACZ,QAAMQ,QAAQ,GAAGb,QAAQ,CAACc,sBAAT,EAAjB;AACA,QAAMC,SAAS,GAAG,CAChB,GADgB,EAEhB,GAFgB,EAGhB,GAHgB,EAIhB,GAJgB,EAKhB,GALgB,EAMhB,GANgB,EAOhB,GAPgB,EAQhB,GARgB,EAShB,GATgB,EAUhB,GAVgB,EAWhB,WAXgB,EAYhB,GAZgB,EAahB,GAbgB,EAchB,GAdgB,EAehB,GAfgB,EAgBhB,GAhBgB,EAiBhB,GAjBgB,EAkBhB,GAlBgB,EAmBhB,GAnBgB,EAoBhB,GApBgB,EAqBhB,GArBgB,EAsBhB,MAtBgB,EAuBhB,GAvBgB,EAwBhB,GAxBgB,EAyBhB,GAzBgB,EA0BhB,GA1BgB,EA2BhB,GA3BgB,EA4BhB,GA5BgB,EA6BhB,GA7BgB,EA8BhB,GA9BgB,EA+BhB,GA/BgB,EAgChB,OAhCgB,EAiChB,MAjCgB,EAkChB,GAlCgB,EAmChB,GAnCgB,EAoChB,GApCgB,EAqChB,GArCgB,EAsChB,GAtCgB,EAuChB,GAvCgB,EAwChB,GAxCgB,EAyChB,GAzCgB,EA0ChB,GA1CgB,EA2ChB,GA3CgB,EA4ChB,OA5CgB,CAAlB,CAFY,CAiDZ;;AACA,QAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,SAAD,EAAe;AACpC,mDAAoCA,SAApC;AACD,KAFD;;AAIAF,IAAAA,SAAS,CAACP,OAAV,CAAkB,UAACU,GAAD,EAAS;AACzB,UAAMC,UAAU,GAAGnB,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAnB;AACA,UAAMmB,eAAe,GACnB,CAAC,WAAD,EAAc,GAAd,EAAmB,OAAnB,EAA4B,GAA5B,EAAiCC,OAAjC,CAAyCH,GAAzC,MAAkD,CAAC,CADrD,CAFyB,CAKzB;;AACAC,MAAAA,UAAU,CAACG,YAAX,CAAwB,MAAxB,EAAgC,QAAhC;AACAH,MAAAA,UAAU,CAACjB,SAAX,CAAqBC,GAArB,CAAyB,eAAzB;;AAEA,cAAQe,GAAR;AACE,aAAK,WAAL;AACEC,UAAAA,UAAU,CAACjB,SAAX,CAAqBC,GAArB,CAAyB,qBAAzB;AACAgB,UAAAA,UAAU,CAACI,SAAX,GAAuBP,cAAc,CAAC,KAAD,CAArC;AAEAG,UAAAA,UAAU,CAACT,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;AACzC,YAAA,MAAI,CAACf,UAAL,CAAgBC,KAAhB,GAAwB,MAAI,CAACD,UAAL,CAAgBC,KAAhB,CAAsB4B,SAAtB,CACtB,CADsB,EAEtB,MAAI,CAAC7B,UAAL,CAAgBC,KAAhB,CAAsB6B,MAAtB,GAA+B,CAFT,CAAxB;;AAIA,YAAA,MAAI,CAACC,aAAL,CAAmB,SAAnB;;AACAvC,YAAAA,QAAQ,CAACW,cAAT,GAA0B,EAA1B;AACD,WAPD;AASA;;AAEF,aAAK,MAAL;AACEqB,UAAAA,UAAU,CAACjB,SAAX,CAAqBC,GAArB,CACE,qBADF,EAEE,4BAFF;AAIAgB,UAAAA,UAAU,CAACI,SAAX,GAAuBP,cAAc,CAAC,MAAD,CAArC;AAEAG,UAAAA,UAAU,CAACT,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;AACzC,YAAA,MAAI,CAACiB,eAAL;;AACAR,YAAAA,UAAU,CAACjB,SAAX,CAAqB0B,MAArB,CACE,uBADF,EAEE,MAAI,CAACjC,UAAL,CAAgBE,QAFlB;AAIAV,YAAAA,QAAQ,CAACW,cAAT,GAA0B,EAA1B;AACD,WAPD;AASA;;AAEF,aAAK,OAAL;AACEqB,UAAAA,UAAU,CAACjB,SAAX,CAAqBC,GAArB,CAAyB,qBAAzB;AACAgB,UAAAA,UAAU,CAACI,SAAX,GAAuBP,cAAc,CAAC,QAAD,CAArC;AAEAG,UAAAA,UAAU,CAACT,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;AACzC,YAAA,MAAI,CAACf,UAAL,CAAgBC,KAAhB,IAAyB,IAAzB;;AACA,YAAA,MAAI,CAAC8B,aAAL,CAAmB,SAAnB;;AACAvC,YAAAA,QAAQ,CAACW,cAAT,GAA0B,IAA1B;AACD,WAJD;AAMA;;AAEF,aAAK,OAAL;AACEqB,UAAAA,UAAU,CAACjB,SAAX,CAAqBC,GAArB,CAAyB,2BAAzB;AACAgB,UAAAA,UAAU,CAACI,SAAX,GAAuBP,cAAc,CAAC,OAAD,CAArC;AAEAG,UAAAA,UAAU,CAACT,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;AACzC,YAAA,MAAI,CAACf,UAAL,CAAgBC,KAAhB,IAAyB,GAAzB;;AACA,YAAA,MAAI,CAAC8B,aAAL,CAAmB,SAAnB;;AACAvC,YAAAA,QAAQ,CAACW,cAAT,GAA0B,GAA1B;AACD,WAJD;AAMA;;AAEF,aAAK,MAAL;AACEqB,UAAAA,UAAU,CAACjB,SAAX,CAAqBC,GAArB,CACE,qBADF,EAEE,qBAFF;AAIAgB,UAAAA,UAAU,CAACI,SAAX,GAAuBP,cAAc,CAAC,UAAD,CAArC;AAEAG,UAAAA,UAAU,CAACT,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;AACzC,YAAA,MAAI,CAACmB,KAAL;;AACA,YAAA,MAAI,CAACH,aAAL,CAAmB,SAAnB;;AACAvC,YAAAA,QAAQ,CAACW,cAAT,GAA0B,EAA1B;AACD,WAJD;AAMA;;AAEF;AACEqB,UAAAA,UAAU,CAACW,WAAX,GAAyBZ,GAAG,CAACa,WAAJ,EAAzB;AAEAZ,UAAAA,UAAU,CAACT,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;AACzC,YAAA,MAAI,CAACf,UAAL,CAAgBC,KAAhB,IAAyB,MAAI,CAACD,UAAL,CAAgBE,QAAhB,GACrBqB,GAAG,CAACc,WAAJ,EADqB,GAErBd,GAAG,CAACa,WAAJ,EAFJ;;AAGA,YAAA,MAAI,CAACL,aAAL,CAAmB,SAAnB;;AACAvC,YAAAA,QAAQ,CAACW,cAAT,GAA0BoB,GAA1B;AACD,WAND;AAQA;AApFJ;;AAuFAL,MAAAA,QAAQ,CAACT,WAAT,CAAqBe,UAArB;;AAEA,UAAIC,eAAJ,EAAqB;AACnBP,QAAAA,QAAQ,CAACT,WAAT,CAAqBJ,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAArB;AACD;AACF,KArGD;AAuGA,WAAOY,QAAP;AACD,GA7Mc;AA+Mfa,EAAAA,aA/Me,yBA+MDO,WA/MC,EA+MY;AACzB,QAAI,OAAO,KAAKzC,aAAL,CAAmByC,WAAnB,CAAP,IAA0C,UAA9C,EAA0D;AACxD,WAAKzC,aAAL,CAAmByC,WAAnB,EAAgC,KAAKtC,UAAL,CAAgBC,KAAhD;AACD;AACF,GAnNc;AAqNf+B,EAAAA,eArNe,6BAqNG;AAChB,SAAKhC,UAAL,CAAgBE,QAAhB,GAA2B,CAAC,KAAKF,UAAL,CAAgBE,QAA5C;;AADgB,+CAGE,KAAKT,QAAL,CAAcG,IAHhB;AAAA;;AAAA;AAGhB,0DAAsC;AAAA,YAA3B2B,GAA2B;;AACpC,YAAIA,GAAG,CAACgB,iBAAJ,KAA0B,CAA9B,EAAiC;AAC/BhB,UAAAA,GAAG,CAACY,WAAJ,GAAkB,KAAKnC,UAAL,CAAgBE,QAAhB,GACdqB,GAAG,CAACY,WAAJ,CAAgBE,WAAhB,EADc,GAEdd,GAAG,CAACY,WAAJ,CAAgBC,WAAhB,EAFJ;AAGD;AACF;AATe;AAAA;AAAA;AAAA;AAAA;AAUjB,GA/Nc;AAiOfpB,EAAAA,IAjOe,gBAiOVwB,YAjOU,EAiOI1C,OAjOJ,EAiOaC,OAjOb,EAiOsB;AACnC,SAAKC,UAAL,CAAgBC,KAAhB,GAAwBuC,YAAY,IAAI,EAAxC;AACA,SAAK3C,aAAL,CAAmBC,OAAnB,GAA6BA,OAA7B;AACA,SAAKD,aAAL,CAAmBE,OAAnB,GAA6BA,OAA7B;AACA,SAAKN,QAAL,CAAcC,IAAd,CAAmBa,SAAnB,CAA6BkC,MAA7B,CAAoC,kBAApC;AACD,GAtOc;AAwOfP,EAAAA,KAxOe,mBAwOP;AACN,SAAKlC,UAAL,CAAgBC,KAAhB,GAAwB,EAAxB;AACA,SAAKJ,aAAL,CAAmBC,OAAnB,GAA6BA,OAA7B;AACA,SAAKD,aAAL,CAAmBE,OAAnB,GAA6BA,OAA7B;AACA,SAAKN,QAAL,CAAcC,IAAd,CAAmBa,SAAnB,CAA6BC,GAA7B,CAAiC,kBAAjC;AACD;AA7Oc,CAAjB;AAgPAkC,MAAM,CAAC3B,gBAAP,CAAwB,kBAAxB,EAA4C,YAAY;AACtDvB,EAAAA,QAAQ,CAACY,IAAT;AACD,CAFD","file":"keyboard.5698dee2.js","sourceRoot":"..","sourcesContent":["// Keyboard logic from - https://codepen.io/dcode-software/pen/KYYKxP?fbclid=IwAR0MXx7zVEQIxo-MT2TVRDdzUDK-t4QPkBc1g3IgVED26BDGATCLrQLS2l0\r\n// Certain code as been altered to better suit the site.\r\nconst Keyboard = {\r\n  elements: {\r\n    main: null,\r\n    keysContainer: null,\r\n    keys: [],\r\n  },\r\n\r\n  eventHandlers: {\r\n    oninput: null,\r\n    onclose: null,\r\n  },\r\n\r\n  properties: {\r\n    value: '',\r\n    capsLock: false,\r\n  },\r\n\r\n  lastKeyPressed: '',\r\n\r\n  init() {\r\n    // Create main elements\r\n    this.elements.main = document.createElement('div');\r\n    this.elements.keysContainer = document.createElement('div');\r\n\r\n    // Setup main elements\r\n    this.elements.main.classList.add('keyboard', 'keyboard--hidden');\r\n    this.elements.keysContainer.classList.add('keyboard__keys');\r\n    this.elements.keysContainer.appendChild(this._createKeys());\r\n\r\n    this.elements.keys = this.elements.keysContainer.querySelectorAll(\r\n      '.keyboard__key'\r\n    );\r\n\r\n    // Add to DOM\r\n    this.elements.main.appendChild(this.elements.keysContainer);\r\n    document.body.appendChild(this.elements.main);\r\n\r\n    // Automatically use keyboard for elements with .use-keyboard-input\r\n    document.querySelectorAll('.use-keyboard-input').forEach((element) => {\r\n      element.addEventListener('focus', () => {\r\n        this.open(element.value, (currentValue) => {\r\n          element.value = currentValue;\r\n        });\r\n      });\r\n    });\r\n  },\r\n\r\n  _createKeys() {\r\n    const fragment = document.createDocumentFragment();\r\n    const keyLayout = [\r\n      '1',\r\n      '2',\r\n      '3',\r\n      '4',\r\n      '5',\r\n      '6',\r\n      '7',\r\n      '8',\r\n      '9',\r\n      '0',\r\n      'backspace',\r\n      'q',\r\n      'w',\r\n      'e',\r\n      'r',\r\n      't',\r\n      'y',\r\n      'u',\r\n      'i',\r\n      'o',\r\n      'p',\r\n      'caps',\r\n      'a',\r\n      's',\r\n      'd',\r\n      'f',\r\n      'g',\r\n      'h',\r\n      'j',\r\n      'k',\r\n      'l',\r\n      'enter',\r\n      'done',\r\n      'z',\r\n      'x',\r\n      'c',\r\n      'v',\r\n      'b',\r\n      'n',\r\n      'm',\r\n      ',',\r\n      '.',\r\n      '?',\r\n      'space',\r\n    ];\r\n\r\n    // Creates HTML for an icon\r\n    const createIconHTML = (icon_name) => {\r\n      return `<i class=\"material-icons\">${icon_name}</i>`;\r\n    };\r\n\r\n    keyLayout.forEach((key) => {\r\n      const keyElement = document.createElement('button');\r\n      const insertLineBreak =\r\n        ['backspace', 'p', 'enter', '?'].indexOf(key) !== -1;\r\n\r\n      // Add attributes/classes\r\n      keyElement.setAttribute('type', 'button');\r\n      keyElement.classList.add('keyboard__key');\r\n\r\n      switch (key) {\r\n        case 'backspace':\r\n          keyElement.classList.add('keyboard__key--wide');\r\n          keyElement.innerHTML = createIconHTML('del');\r\n\r\n          keyElement.addEventListener('click', () => {\r\n            this.properties.value = this.properties.value.substring(\r\n              0,\r\n              this.properties.value.length - 1\r\n            );\r\n            this._triggerEvent('oninput');\r\n            Keyboard.lastKeyPressed = '';\r\n          });\r\n\r\n          break;\r\n\r\n        case 'caps':\r\n          keyElement.classList.add(\r\n            'keyboard__key--wide',\r\n            'keyboard__key--activatable'\r\n          );\r\n          keyElement.innerHTML = createIconHTML('caps');\r\n\r\n          keyElement.addEventListener('click', () => {\r\n            this._toggleCapsLock();\r\n            keyElement.classList.toggle(\r\n              'keyboard__key--active',\r\n              this.properties.capsLock\r\n            );\r\n            Keyboard.lastKeyPressed = '';\r\n          });\r\n\r\n          break;\r\n\r\n        case 'enter':\r\n          keyElement.classList.add('keyboard__key--wide');\r\n          keyElement.innerHTML = createIconHTML('return');\r\n\r\n          keyElement.addEventListener('click', () => {\r\n            this.properties.value += '\\n';\r\n            this._triggerEvent('oninput');\r\n            Keyboard.lastKeyPressed = '\\n';\r\n          });\r\n\r\n          break;\r\n\r\n        case 'space':\r\n          keyElement.classList.add('keyboard__key--extra-wide');\r\n          keyElement.innerHTML = createIconHTML('space');\r\n\r\n          keyElement.addEventListener('click', () => {\r\n            this.properties.value += ' ';\r\n            this._triggerEvent('oninput');\r\n            Keyboard.lastKeyPressed = ' ';\r\n          });\r\n\r\n          break;\r\n\r\n        case 'done':\r\n          keyElement.classList.add(\r\n            'keyboard__key--wide',\r\n            'keyboard__key--dark'\r\n          );\r\n          keyElement.innerHTML = createIconHTML('close KB');\r\n\r\n          keyElement.addEventListener('click', () => {\r\n            this.close();\r\n            this._triggerEvent('onclose');\r\n            Keyboard.lastKeyPressed = '';\r\n          });\r\n\r\n          break;\r\n\r\n        default:\r\n          keyElement.textContent = key.toLowerCase();\r\n\r\n          keyElement.addEventListener('click', () => {\r\n            this.properties.value += this.properties.capsLock\r\n              ? key.toUpperCase()\r\n              : key.toLowerCase();\r\n            this._triggerEvent('oninput');\r\n            Keyboard.lastKeyPressed = key;\r\n          });\r\n\r\n          break;\r\n      }\r\n\r\n      fragment.appendChild(keyElement);\r\n\r\n      if (insertLineBreak) {\r\n        fragment.appendChild(document.createElement('br'));\r\n      }\r\n    });\r\n\r\n    return fragment;\r\n  },\r\n\r\n  _triggerEvent(handlerName) {\r\n    if (typeof this.eventHandlers[handlerName] == 'function') {\r\n      this.eventHandlers[handlerName](this.properties.value);\r\n    }\r\n  },\r\n\r\n  _toggleCapsLock() {\r\n    this.properties.capsLock = !this.properties.capsLock;\r\n\r\n    for (const key of this.elements.keys) {\r\n      if (key.childElementCount === 0) {\r\n        key.textContent = this.properties.capsLock\r\n          ? key.textContent.toUpperCase()\r\n          : key.textContent.toLowerCase();\r\n      }\r\n    }\r\n  },\r\n\r\n  open(initialValue, oninput, onclose) {\r\n    this.properties.value = initialValue || '';\r\n    this.eventHandlers.oninput = oninput;\r\n    this.eventHandlers.onclose = onclose;\r\n    this.elements.main.classList.remove('keyboard--hidden');\r\n  },\r\n\r\n  close() {\r\n    this.properties.value = '';\r\n    this.eventHandlers.oninput = oninput;\r\n    this.eventHandlers.onclose = onclose;\r\n    this.elements.main.classList.add('keyboard--hidden');\r\n  },\r\n};\r\n\r\nwindow.addEventListener('DOMContentLoaded', function () {\r\n  Keyboard.init();\r\n});\r\n"]}